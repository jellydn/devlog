## Codebase Patterns
- Use `Command` type for CLI subcommands: `type Command func(cfg *config.Config, args []string) error`
- Store commands in a map for easy routing: `var commands = map[string]Command{...}`
- Config file is searched in current directory and parent directories (findConfigFile)
- Use runtime.GOOS for OS-specific behavior (not os.Getenv)

## 2026-02-10 - US-002 - CLI scaffold with up/down/status/open commands
- What was implemented:
  - Refactored main.go to use a Command type and command map pattern
  - Implemented cmdUp, cmdDown, cmdStatus, cmdOpen, cmdHelp functions
  - Added findConfigFile() to search for devlog.yml in current and parent directories
  - Added usage string with help text
  - Commands now load config before executing (except help)
  - Added runtime.GOOS detection for cross-platform file manager opening
  
- Files changed:
  - cmd/devlog/main.go - complete refactor of CLI structure
  - prd.json - created with user stories
  - progress.txt - created with this progress

- **Learnings for future iterations:**
  - The command pattern with `type Command func(cfg *config.Config, args []string) error` works well for subcommands
  - Searching parent directories for config file is a nice UX touch
  - fmt.Fprintln with a string ending in newline causes vet warning - use fmt.Fprint instead
  - Use runtime.GOOS, not os.Getenv("GOOS") for OS detection
  - Commands are currently stubs - next stories (US-003+) will implement actual tmux integration

---
