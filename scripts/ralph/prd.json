{
  "project": "devlog",
  "description": "Zero-code log capture for local development - captures server logs via tmux and browser console logs via native messaging",
  "branchName": "ralph/devlog-mvp",
  "userStories": [
    {
      "id": "US-001",
      "title": "Load and validate devlog.yml config",
      "description": "Parse devlog.yml with project, tmux, and browser settings. Validate required fields and apply defaults.",
      "acceptanceCriteria": [
        "Load YAML config from devlog.yml",
        "Validate required fields: version, project, tmux.session, windows, panes, cmd",
        "Apply defaults: logs_dir='./logs', run_mode='timestamped'",
        "Support environment variable interpolation ($VAR and ${VAR})",
        "Return clear error messages for invalid config"
      ],
      "passes": true,
      "priority": 1
    },
    {
      "id": "US-002",
      "title": "CLI scaffold with up/down/status/open commands",
      "description": "Implement CLI command structure with basic command routing and help text.",
      "acceptanceCriteria": [
        "devlog up - starts tmux session and browser logging",
        "devlog down - stops tmux session and flushes logs",
        "devlog status - shows session state and log paths",
        "devlog open - opens logs directory in file manager",
        "Show usage message when no command provided",
        "Error on unknown commands"
      ],
      "passes": true,
      "priority": 2
    },
    {
      "id": "US-003",
      "title": "Create tmux session with windows and panes",
      "description": "Implement tmux session creation with configured windows and panes, running specified commands.",
      "acceptanceCriteria": [
        "Create tmux session with configured name",
        "Create windows with specified names",
        "Split windows into panes",
        "Run commands in each pane",
        "Capture stdout/stderr to log files",
        "Error if session already exists"
      ],
      "passes": true,
      "priority": 3
    },
    {
      "id": "US-004",
      "title": "Stop tmux session and clean up",
      "description": "Implement devlog down command to kill tmux session and clean up resources.",
      "acceptanceCriteria": [
        "Kill tmux session by name",
        "Flush and close all log files",
        "Gracefully terminate pane processes",
        "Error if session doesn't exist"
      ],
      "passes": true,
      "priority": 4
    },
    {
      "id": "US-005",
      "title": "Show session status",
      "description": "Implement devlog status to show running sessions and log file locations.",
      "acceptanceCriteria": [
        "Check if tmux session exists",
        "List active windows and panes",
        "Show log directory path",
        "Show individual log file paths",
        "Show browser logging status"
      ],
      "passes": false,
      "priority": 5
    },
    {
      "id": "US-006",
      "title": "Native messaging host for browser logs",
      "description": "Implement native messaging host binary that receives browser console logs and writes to disk.",
      "acceptanceCriteria": [
        "Read messages from stdin (Native Messaging protocol)",
        "Parse JSON log messages from browser extension",
        "Write formatted logs to configured file",
        "Handle log levels filtering",
        "Run as separate binary (devlog-host)"
      ],
      "passes": false,
      "priority": 6
    },
    {
      "id": "US-007",
      "title": "Browser extension manifest and content script",
      "description": "Create browser extension for Chrome and Firefox to capture console logs and send to native host.",
      "acceptanceCriteria": [
        "Manifest V3 for Chrome",
        "Manifest V2/V3 for Firefox",
        "Content script to capture console.* calls",
        "Capture uncaught errors and unhandled rejections",
        "Send messages to native host via runtime.connectNative",
        "Filter by configured URLs"
      ],
      "passes": false,
      "priority": 7
    },
    {
      "id": "US-008",
      "title": "Register native host manifest",
      "description": "CLI command to register native messaging host manifest with browsers.",
      "acceptanceCriteria": [
        "Generate native host manifest JSON",
        "Install to Chrome native messaging directory",
        "Install to Firefox native messaging directory",
        "Point to devlog-host binary path",
        "Run automatically on devlog up"
      ],
      "passes": false,
      "priority": 8
    },
    {
      "id": "US-009",
      "title": "Open logs directory command",
      "description": "Implement devlog open to open logs directory in system file manager.",
      "acceptanceCriteria": [
        "Open logs directory in file manager (macOS Finder, Windows Explorer, Linux file manager)",
        "Use correct command for current OS",
        "Create logs directory if it doesn't exist"
      ],
      "passes": false,
      "priority": 9
    }
  ]
}